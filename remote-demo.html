<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arduino Dashboard - Remote Demo</title>
    <link rel="stylesheet" href="arduino-styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .demo-notice {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
        }
        .demo-notice h2 {
            margin: 0 0 10px 0;
            font-size: 1.5em;
        }
        .demo-notice p {
            margin: 5px 0;
            opacity: 0.9;
        }
        .simulation-controls {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #007bff;
        }
        .simulation-controls h3 {
            margin: 0 0 10px 0;
            color: #007bff;
        }
        .sim-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 8px 16px;
            margin: 5px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
        }
        .sim-btn:hover {
            background: #218838;
        }
        .sim-btn.danger {
            background: #dc3545;
        }
        .sim-btn.danger:hover {
            background: #c82333;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Demo Notice -->
        <div class="demo-notice">
            <h2><i class="fas fa-globe"></i> Remote Demo Mode</h2>
            <p>This is a demonstration version that works without Arduino hardware</p>
            <p>Perfect for testing the interface and sharing with friends remotely</p>
        </div>

        <!-- Header -->
        <header class="header">
            <h1><i class="fas fa-microchip"></i> Arduino Dashboard</h1>
            <p>Real-time Arduino communication and data visualization</p>
        </header>

        <!-- Connection Panel -->
        <div class="connection-panel">
            <h3><i class="fas fa-plug"></i> Arduino Connection</h3>
            <div class="connection-controls">
                <div class="port-selection">
                    <label for="portSelect">Select Arduino Port:</label>
                    <select id="portSelect">
                        <option value="">Select a port...</option>
                        <option value="COM3">Arduino COM3 (Demo)</option>
                        <option value="COM1">Arduino COM1 (Demo)</option>
                        <option value="COM4">Arduino COM4 (Demo)</option>
                    </select>
                    <button id="refreshPorts" class="btn btn-secondary">
                        <i class="fas fa-sync-alt"></i> Refresh
                    </button>
                </div>
                <div class="connection-buttons">
                    <button id="connectBtn" class="btn btn-primary" disabled>
                        <i class="fas fa-link"></i> Connect (Demo)
                    </button>
                    <button id="disconnectBtn" class="btn btn-danger" disabled>
                        <i class="fas fa-unlink"></i> Disconnect
                    </button>
                </div>
            </div>
            <div id="connectionStatus" class="status-indicator">
                <i class="fas fa-circle"></i> <span>Not Connected</span>
            </div>
        </div>

        <!-- Simulation Controls -->
        <div class="simulation-controls">
            <h3><i class="fas fa-play-circle"></i> Demo Simulation Controls</h3>
            <p>Use these buttons to simulate Arduino data for testing:</p>
            <button class="sim-btn" onclick="simulateData()">
                <i class="fas fa-play"></i> Start Data Simulation
            </button>
            <button class="sim-btn danger" onclick="stopSimulation()">
                <i class="fas fa-stop"></i> Stop Simulation
            </button>
            <button class="sim-btn" onclick="simulateMorse()">
                <i class="fas fa-keyboard"></i> Simulate Morse Code
            </button>
            <button class="sim-btn" onclick="clearData()">
                <i class="fas fa-trash"></i> Clear Data
            </button>
        </div>

        <!-- Data Panel -->
        <div class="data-panel">
            <h3><i class="fas fa-chart-line"></i> Real-time Data</h3>
            <div class="data-grid">
                <div class="data-item">
                    <label>Temperature:</label>
                    <div id="temperature" class="data-value">--°C</div>
                </div>
                <div class="data-item">
                    <label>Humidity:</label>
                    <div id="humidity" class="data-value">--%</div>
                </div>
                <div class="data-item">
                    <label>Light Level:</label>
                    <div id="lightLevel" class="data-value">-- lux</div>
                </div>
                <div class="data-item">
                    <label>Message Count:</label>
                    <div id="messageCount" class="data-value">0</div>
                </div>
            </div>
        </div>

        <!-- Morse Code Panel -->
        <div class="morse-panel">
            <h3><i class="fas fa-broadcast-tower"></i> Morse Code System</h3>
            <div class="morse-display">
                <div class="morse-input">
                    <label>Current Letter:</label>
                    <div id="currentLetter" class="morse-code">- - -</div>
                </div>
                <div class="morse-output">
                    <label>Decoded Text:</label>
                    <div id="decodedText" class="decoded-text">HELLO</div>
                </div>
                <div class="morse-sequence">
                    <label>Morse Sequence:</label>
                    <div id="morseSequence" class="sequence">.... . .-.. .-.. ---</div>
                </div>
            </div>
        </div>

        <!-- Message Log -->
        <div class="message-log">
            <h3><i class="fas fa-list"></i> Message Log</h3>
            <div id="messageLog" class="log-container">
                <div class="log-entry info">
                    <span class="timestamp">[Demo Mode]</span>
                    <span class="message">Welcome to the Arduino Dashboard Demo!</span>
                </div>
                <div class="log-entry info">
                    <span class="timestamp">[Demo Mode]</span>
                    <span class="message">This version works without Arduino hardware</span>
                </div>
                <div class="log-entry info">
                    <span class="timestamp">[Demo Mode]</span>
                    <span class="message">Use the simulation controls to test features</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        class RemoteArduinoDemo {
            constructor() {
                this.isConnected = false;
                this.messageCount = 0;
                this.simulationInterval = null;
                this.initializeElements();
                this.setupEventListeners();
                this.loadPorts();
            }

            initializeElements() {
                this.portSelect = document.getElementById('portSelect');
                this.refreshPortsBtn = document.getElementById('refreshPorts');
                this.connectBtn = document.getElementById('connectBtn');
                this.disconnectBtn = document.getElementById('disconnectBtn');
                this.connectionStatus = document.getElementById('connectionStatus');
                
                this.temperature = document.getElementById('temperature');
                this.humidity = document.getElementById('humidity');
                this.lightLevel = document.getElementById('lightLevel');
                this.messageCount = document.getElementById('messageCount');
                
                this.currentLetter = document.getElementById('currentLetter');
                this.decodedText = document.getElementById('decodedText');
                this.morseSequence = document.getElementById('morseSequence');
                
                this.messageLog = document.getElementById('messageLog');
            }

            setupEventListeners() {
                this.refreshPortsBtn.addEventListener('click', () => this.loadPorts());
                this.connectBtn.addEventListener('click', () => this.connectToArduino());
                this.disconnectBtn.addEventListener('click', () => this.disconnectFromArduino());
            }

            loadPorts() {
                this.portSelect.innerHTML = '<option value="">Select a port...</option>';
                
                const demoPorts = [
                    { path: 'COM3', friendlyName: 'Arduino COM3 (Demo)' },
                    { path: 'COM1', friendlyName: 'Arduino COM1 (Demo)' },
                    { path: 'COM4', friendlyName: 'Arduino COM4 (Demo)' },
                    { path: 'COM5', friendlyName: 'Arduino COM5 (Demo)' }
                ];
                
                demoPorts.forEach(port => {
                    const option = document.createElement('option');
                    option.value = port.path;
                    option.textContent = `${port.friendlyName} (${port.path})`;
                    this.portSelect.appendChild(option);
                });
                
                this.addLogEntry('info', 'Demo ports loaded');
            }

            connectToArduino() {
                const selectedPort = this.portSelect.value;
                if (!selectedPort) {
                    this.addLogEntry('warning', 'Please select a port first');
                    return;
                }

                this.updateConnectionStatus('connecting', 'Connecting...');
                
                // Simulate connection delay
                setTimeout(() => {
                    this.isConnected = true;
                    this.updateConnectionStatus('connected', `Connected to ${selectedPort} (Demo Mode)`);
                    this.connectBtn.disabled = true;
                    this.disconnectBtn.disabled = false;
                    this.addLogEntry('success', `Connected to ${selectedPort} in demo mode`);
                }, 1000);
            }

            disconnectFromArduino() {
                this.isConnected = false;
                this.updateConnectionStatus('disconnected', 'Not Connected');
                this.connectBtn.disabled = false;
                this.disconnectBtn.disabled = true;
                this.stopSimulation();
                this.addLogEntry('info', 'Disconnected from Arduino');
            }

            updateConnectionStatus(status, message) {
                const icon = this.connectionStatus.querySelector('i');
                const text = this.connectionStatus.querySelector('span');
                
                this.connectionStatus.className = `status-indicator ${status}`;
                icon.className = status === 'connected' ? 'fas fa-circle' : 'fas fa-circle';
                text.textContent = message;
            }

            addLogEntry(type, message) {
                const logEntry = document.createElement('div');
                logEntry.className = `log-entry ${type}`;
                
                const timestamp = new Date().toLocaleTimeString();
                logEntry.innerHTML = `
                    <span class="timestamp">[${timestamp}]</span>
                    <span class="message">${message}</span>
                `;
                
                this.messageLog.appendChild(logEntry);
                this.messageLog.scrollTop = this.messageLog.scrollHeight;
            }

            simulateData() {
                if (!this.isConnected) {
                    this.addLogEntry('warning', 'Please connect to Arduino first');
                    return;
                }

                this.stopSimulation();
                this.addLogEntry('info', 'Starting data simulation...');
                
                this.simulationInterval = setInterval(() => {
                    const temp = (20 + Math.random() * 15).toFixed(1);
                    const humidity = (40 + Math.random() * 30).toFixed(1);
                    const light = Math.floor(100 + Math.random() * 900);
                    
                    this.temperature.textContent = `${temp}°C`;
                    this.humidity.textContent = `${humidity}%`;
                    this.lightLevel.textContent = `${light} lux`;
                    
                    this.messageCount.textContent = ++this.messageCount;
                }, 2000);
            }

            stopSimulation() {
                if (this.simulationInterval) {
                    clearInterval(this.simulationInterval);
                    this.simulationInterval = null;
                    this.addLogEntry('info', 'Data simulation stopped');
                }
            }

            simulateMorse() {
                if (!this.isConnected) {
                    this.addLogEntry('warning', 'Please connect to Arduino first');
                    return;
                }

                const morseMessages = [
                    { morse: '.... . .-.. .-.. ---', text: 'HELLO' },
                    { morse: '-. .. -.-. .', text: 'NICE' },
                    { morse: '- --- -.. .- -.--', text: 'TODAY' },
                    { morse: '... --- ...', text: 'SOS' },
                    { morse: '.- .-. -.. ..- .. -. ---', text: 'ARDUINO' }
                ];

                let index = 0;
                const morseInterval = setInterval(() => {
                    if (index >= morseMessages.length) {
                        clearInterval(morseInterval);
                        return;
                    }

                    const message = morseMessages[index++];
                    this.morseSequence.textContent = message.morse;
                    this.decodedText.textContent = message.text;
                    this.addLogEntry('info', `Morse: ${message.morse} = ${message.text}`);
                }, 3000);
            }

            clearData() {
                this.temperature.textContent = '--°C';
                this.humidity.textContent = '--%';
                this.lightLevel.textContent = '-- lux';
                this.messageCount.textContent = '0';
                this.morseSequence.textContent = '';
                this.decodedText.textContent = '';
                this.addLogEntry('info', 'Data cleared');
            }
        }

        // Global functions for simulation controls
        let demo = null;

        function simulateData() {
            if (demo) demo.simulateData();
        }

        function stopSimulation() {
            if (demo) demo.stopSimulation();
        }

        function simulateMorse() {
            if (demo) demo.simulateMorse();
        }

        function clearData() {
            if (demo) demo.clearData();
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', () => {
            demo = new RemoteArduinoDemo();
        });
    </script>
</body>
</html>
